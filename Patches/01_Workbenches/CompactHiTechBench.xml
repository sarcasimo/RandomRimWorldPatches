<?xml version="1.0" encoding="utf-8" ?>
<Patch>

  <!-- Add compact hi-tech research bench as new item -->
  <Operation Class="PatchOperationAdd">
    <xpath>Defs</xpath>
    <value>
      <ThingDef ParentName="BenchBase">
        <defName>ResearchBenchHiTechCompact</defName>
        <label>compact hi-tech research bench</label>
        <description>A space-efficient hi-tech research bench with reduced performance. Smaller footprint but higher material cost, reduced research speed, and increased power consumption. Compatible with all research facility enhancements.</description>
        <thingClass>Building_ResearchBench</thingClass>
        <altitudeLayer>Building</altitudeLayer>
        <passability>PassThroughOnly</passability>
        <pathCost>50</pathCost>
        <blockWind>true</blockWind>
        <fillPercent>0.5</fillPercent>
        <useHitPoints>true</useHitPoints>
        <designationCategory>Production</designationCategory>
        <surfaceType>Item</surfaceType>
        <canOverlapZones>false</canOverlapZones>
        
        <!-- Compact size -->
        <size>(3,1)</size>
        <graphicData>
          <texPath>Things/Building/Production/ResearchBenchHiTech</texPath>
          <graphicClass>Graphic_Multi</graphicClass>
          <shaderType>CutoutComplex</shaderType>
          <drawSize>(3.5,1.5)</drawSize>
          <color>(0.7, 0.85, 1.0)</color>
          <damageData>
            <cornerTL>Damage/Corner</cornerTL>
            <cornerTR>Damage/Corner</cornerTR>
            <cornerBL>Damage/Corner</cornerBL>
            <cornerBR>Damage/Corner</cornerBR>
          </damageData>
        </graphicData>
        
        <!-- Interaction cell positioning for 3x1 size -->
        <hasInteractionCell>true</hasInteractionCell>
        <interactionCellOffset>(0,0,-1)</interactionCellOffset>
        
        <!-- Higher cost to balance the space advantage -->
        <costList>
          <Steel>200</Steel>
          <ComponentIndustrial>8</ComponentIndustrial>
          <Plasteel>40</Plasteel>
          <ComponentSpacer>2</ComponentSpacer>
        </costList>
        
        <statBases>
          <MaxHitPoints>180</MaxHitPoints>
          <WorkToBuild>20000</WorkToBuild>
          <Flammability>1.0</Flammability>
          <ResearchSpeedFactor>0.85</ResearchSpeedFactor>
          <Mass>35</Mass>
        </statBases>
        
        <recipes>
          <li>Research</li>
        </recipes>

        <comps>
          <li Class="CompProperties_Power">
            <compClass>CompPowerTrader</compClass>
            <basePowerConsumption>300</basePowerConsumption>
            <shortCircuitInRain>true</shortCircuitInRain>
          </li>
          <li Class="CompProperties_Flickable"/>
          <li Class="CompProperties_AffectedByFacilities">
            <linkableFacilities>
              <li>ToolCabinet</li>
              <li>MultiAnalyzer</li>
            </linkableFacilities>
          </li>
        </comps>
        
        <placeWorkers>
          <li>PlaceWorker_ShowFacilitiesConnections</li>
          <li>PlaceWorker_ReportWorkSpeedPenalties</li>
        </placeWorkers>
        
        <constructionSkillPrerequisite>8</constructionSkillPrerequisite>
        <minifiedDef>MinifiedThing</minifiedDef>
        
        <inspectorTabs>
          <li>ITab_Bills</li>
        </inspectorTabs>
        
        <building>
          <spawnedConceptLearnOpportunity>BillsTab</spawnedConceptLearnOpportunity>
          <buildingTags>
            <li>Production</li>
            <li>Research</li>
          </buildingTags>
        </building>
        
        <designationHotKey>Misc4</designationHotKey>
        
      </ThingDef>
    </value>
  </Operation>

</Patch>
